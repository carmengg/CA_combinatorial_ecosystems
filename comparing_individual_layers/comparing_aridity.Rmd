---
title: "compare_aridity"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(raster)
library(sf)
library(here)
library(tidyverse)
```

```{r}
source(here("comparing_individual_layers","change_functions.R"))
```

```{r}
year<- 2008
arid8 <- raster(here("combine_layers",
                                   "sb_matched_layers_timeseries",
                                   "aridity",
                                   paste("sb_arid_match_",year,".tif",sep="")))
year<-2019
arid19 <- raster(here("combine_layers",
                                   "sb_matched_layers_timeseries",
                                   "aridity",
                                   paste("sb_arid_match_",year,".tif",sep="")))
rm(year)

#plot(arid1)
plot(arid8, xlab= '2008')
plot(arid19, xlab='2019')
```


```{r}
mtx_arid_8_19 <-change_mtx(arid8, arid19)
df_arid_8_19 <-change_df(mtx_arid_8_19,keep_equals = TRUE)

```


```{r}
colnames(mtx_arid_8_19) <- c("dry", "moist")
rownames(mtx_arid_8_19) <- c("dry", "moist")
mtx_arid_8_19
```


```{r}
arid_layers <- layerize(arid1)

```

```{r}
cats_names <- c('dry','moist')
cat_i_name="moist"
#(rasterA,i, rasterB, cats_B, cats_names=NULL)
result <- raster_change_i(arid8, 3, cat_i_name="moist", 
                          arid19, cats_B=c(2,3), cats_names =c('dry','moist') )
plot(result)
```



```{r}
result_mtx <- raster_change_mtx(arid8, c(2,3), cats_names,
                                arid19, c(2,3), cats_names)
```

```{r}
result2 <- raster_change_i(arid8, 2, cat_i_name="dry", 
                          arid19, cats_B=c(2,3), cats_names =c('dry','moist') )
```

